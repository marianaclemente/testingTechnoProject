{"remainingRequest":"/Users/marianaclemente/Repositórios/testing-vue-components-master/node_modules/babel-loader/lib/index.js!/Users/marianaclemente/Repositórios/testing-vue-components-master/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/marianaclemente/Repositórios/testing-vue-components-master/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/marianaclemente/Repositórios/testing-vue-components-master/src/views/Produto.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/marianaclemente/Repositórios/testing-vue-components-master/src/views/Produto.vue","mtime":1610042024252},{"path":"/Users/marianaclemente/Repositórios/testing-vue-components-master/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/marianaclemente/Repositórios/testing-vue-components-master/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/marianaclemente/Repositórios/testing-vue-components-master/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/marianaclemente/Repositórios/testing-vue-components-master/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgYXBpIH0gZnJvbSAiQC9zZXJ2aWNlcy5qcyI7CmltcG9ydCBBbGVydGEgZnJvbSAiQC92aWV3cy9BbGVydGEudnVlIjsKaW1wb3J0IG51bWVyb1ByZWNvIGZyb20gIkAvYXBpL21peGlucy9udW1lcm9QcmVjby5qcyI7IC8vIGltcG9ydCAqIGFzIHBhdGggZnJvbSAncGF0aCcKLy9pbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiCgppbXBvcnQgeyBtYXBTdGF0ZSwgbWFwTXV0YXRpb25zIH0gZnJvbSAidnVleCI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiUHJvZHV0byIsCiAgY29tcG9uZW50czogewogICAgQWxlcnRhCiAgfSwKICBwcm9wczogWyJpZCJdLAoKICBkYXRhKCkgewogICAgcmV0dXJuIHsvL3Byb2R1dG86IFtdLAogICAgfTsKICB9LAoKICBtaXhpbnM6IFtudW1lcm9QcmVjb10sCiAgY29tcHV0ZWQ6IHsgLi4ubWFwU3RhdGUoWyJwcm9kdXRvIiwgImNhcnJpbmhvIiwgIm1lbnNhZ2VtQWxlcnRhIiwgImFsZXJ0YUF0aXZvIl0pCiAgfSwKICBtZXRob2RzOiB7IC4uLm1hcE11dGF0aW9ucyhbIlVQREFURV9QUk9EVVRPIiwgIlBVU0hfQ0FSUklOSE8iLCAiREVDUkVNRU5UQV9FU1RPUVVFIl0pLAoKICAgIGdldFVSTChpbWFnZU5hbWUpIHsvLyAgICByZXR1cm4gcmVxdWlyZShgQC9hcGkvcHJvZHV0b3MvJHtpbWFnZU5hbWV9LyR7aW1hZ2VOYW1lfS1mb3RvLmpwZ2ApCiAgICB9LAoKICAgIGZldGNoUHJvZHV0bygpIHsKICAgICAgYXBpLmdldChgL3Byb2R1dG9zLyR7dGhpcy5pZH1gKS50aGVuKHIgPT4gewogICAgICAgIHRoaXMuVVBEQVRFX1BST0RVVE8oci5kYXRhKTsKICAgICAgfSk7CiAgICAgIC8qdGhpcy5wcm9kdXRvID0gZGFkb3MKICAgICAgY29uc29sZS5sb2codGhpcy5wcm9kdXRvLCBpZCkKICAgICAgYXhpb3MuZ2V0KGBAL2FwaS9wcm9kdXRvcy8ke2lkfS9kYWRvcy5qc29uYCkKICAgICAgICAgIC50aGVuKHIgPT4gewogICAgICAgICAgICAgIHRoaXMucHJvZHV0byA9IHIuZGF0YTsKICAgICAgICAgIH0pKi8KICAgIH0sCgogICAgZmVjaGFyTW9kYWwoewogICAgICB0YXJnZXQsCiAgICAgIGN1cnJlbnRUYXJnZXQKICAgIH0pIHsKICAgICAgaWYgKHRhcmdldCA9PT0gY3VycmVudFRhcmdldCkgewogICAgICAgIGRvY3VtZW50LnRpdGxlID0gIlRlY2hubyI7CiAgICAgICAgdGhpcy5VUERBVEVfUFJPRFVUTyhmYWxzZSk7CiAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgICAgbmFtZTogIkhvbWUiCiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCgogICAgc2VtUHJvZHV0bygpIHsKICAgICAgZG9jdW1lbnQudGl0bGUgPSAiVGVjaG5vIjsKICAgICAgdGhpcy5VUERBVEVfUFJPRFVUTyhmYWxzZSk7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICBuYW1lOiAiSG9tZSIKICAgICAgfSk7CiAgICB9LAoKICAgIGFkaWNpb25hckl0ZW0oKSB7CiAgICAgIGlmICh0aGlzLnByb2R1dG8gPT09IGZhbHNlKSByZXR1cm47CiAgICAgIHRoaXMuREVDUkVNRU5UQV9FU1RPUVVFKCk7CiAgICAgIGNvbnN0IHsKICAgICAgICBpZCwKICAgICAgICBub21lLAogICAgICAgIHByZWNvCiAgICAgIH0gPSB0aGlzLnByb2R1dG87IC8vIGNvbnNvbGUubG9nKCdwcm9kdXRvOiAnLCB0aGlzLnByb2R1dG8pCgogICAgICB0aGlzLlBVU0hfQ0FSUklOSE8oewogICAgICAgIGlkLAogICAgICAgIG5vbWUsCiAgICAgICAgcHJlY28KICAgICAgfSk7CiAgICAgIHRoaXMuYWxlcnRhKGAke25vbWV9IGFkaWNpb25hZG8gYW8gY2FycmluaG8uYCk7CiAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2UuY2FycmluaG8gPSBKU09OLnN0cmluZ2lmeSh0aGlzLmNhcnJpbmhvKTsKICAgIH0sCgogICAgYWxlcnRhKG1lbnNhZ2VtKSB7CiAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLm1lbnNhZ2VtQWxlcnRhID0gbWVuc2FnZW07CiAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLmFsZXJ0YUF0aXZvID0gdHJ1ZTsKICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgdGhpcy4kc3RvcmUuc3RhdGUuYWxlcnRhQXRpdm8gPSBmYWxzZTsKICAgICAgfSwgMTUwMCk7CiAgICB9LAoKICAgIGNoZWNhckxvY2FsU3RvcmFnZSgpIHsKICAgICAgaWYgKHdpbmRvdy5sb2NhbFN0b3JhZ2UuY2FycmluaG8pIHsKICAgICAgICB0aGlzLiRzdG9yZS5zdGF0ZS5jYXJyaW5obyA9IEpTT04ucGFyc2Uod2luZG93LmxvY2FsU3RvcmFnZS5jYXJyaW5obyk7CiAgICAgIH0KICAgIH0sCgogICAgY29tcGFyYXJFc3RvcXVlKCkgewogICAgICBjb25zdCBpdGVtcyA9IHRoaXMuY2FycmluaG8uZmlsdGVyKCh7CiAgICAgICAgaWQKICAgICAgfSkgPT4gaWQgPT09IHRoaXMucHJvZHV0by5pZCk7CiAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLnByb2R1dG8uZXN0b3F1ZSAtPSBpdGVtcy5sZW5ndGg7CiAgICB9CgogIH0sCiAgd2F0Y2g6IHsKICAgIHByb2R1dG8oKSB7CiAgICAgIGRvY3VtZW50LnRpdGxlID0gdGhpcy5wcm9kdXRvLm5vbWUgfHwgIlRlY2hubyI7CiAgICAgIGNvbnN0IGhhc2ggPSB0aGlzLnByb2R1dG8uaWQgfHwgIiI7CiAgICAgIGhpc3RvcnkucHVzaFN0YXRlKG51bGwsIG51bGwsIGAke2hhc2h9YCk7CgogICAgICBpZiAodGhpcy5wcm9kdXRvKSB7CiAgICAgICAgdGhpcy5jb21wYXJhckVzdG9xdWUoKTsKICAgICAgfQogICAgfSwKCiAgICBjYXJyaW5obygpIHsKICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5jYXJyaW5obyA9IEpTT04uc3RyaW5naWZ5KHRoaXMuY2FycmluaG8pOwogICAgfQoKICB9LAoKICBjcmVhdGVkKCkgewogICAgdGhpcy5mZXRjaFByb2R1dG8oKTsKICB9Cgp9Ow=="},{"version":3,"sources":["Produto.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div>\n        <section class=\"modal\" v-if=\"produto\" @click=\"fecharModal\">\n            <!-- <Alerta v-if= \"$store.state.alertaAtivo\" /> -->\n            <div class=\"modal_container\">\n                <div class=\"modal_img\">\n                    <img :src=\"getURL(produto.id)\" :alt=\"produto.nome\">\n                </div>\n                <div class=\"modal_dados\">\n                    <button v-if=\"produto\" @click=\"semProduto\" class=\"modal_fechar\">X</button>\n                    <span class=\"nodal_preco\">{{numeroPreco(produto.preco)}}</span>\n                    <h2 class=\"modal_titulo\">{{produto.nome}}</h2>\n                    <p>{{produto.descricao}}</p>\n                    <button v-if=\"produto.estoque > 0\" class=\"modal_btn\" \n                        @click=\"adicionarItem\">Adicionar Item</button>\n                    <button v-else class=\"modal_btn esgotado\" disabled>Produto Esgotado</button>\n                </div>\n                <div class=\"avaliacoes\">\n                    <h2 class=\"avaliacoes_subtitulo\">Avaliações</h2>\n                    <ul>\n                        <li v-for=\"(avaliacao, index) in produto.reviews\" class=\"avaliacao\" :key=\"index\">\n                            <p class=\"avaliacao_descricao\">{{avaliacao.descricao}}</p>\n                            <p class=\"avaliacao_usuario\">{{avaliacao.nome}} | {{avaliacao.estrelas}} estrelas</p>\n                        </li>\n                    </ul>\n                </div>\n            </div>\n        </section>\n        <section>\n            <Alerta v-if= \"$store.state.alertaAtivo\" />\n        </section>\n    </div>\n</template>\n\n<script>\nimport { api } from \"@/services.js\";\nimport Alerta from \"@/views/Alerta.vue\";\nimport numeroPreco from \"@/api/mixins/numeroPreco.js\";\n\n// import * as path from 'path'\n//import axios from \"axios\"\nimport { mapState, mapMutations } from \"vuex\";\nexport default {\n    name: \"Produto\",\n    components: {\n        Alerta\n    },\n    props: [\"id\"],\n    data() {\n        return {\n            //produto: [],\n        }\n    },\n    mixins: [numeroPreco],\n    computed: {\n        ...mapState([\"produto\",\"carrinho\", \"mensagemAlerta\", \"alertaAtivo\"]),\n    },\n    methods: {\n        ...mapMutations([\"UPDATE_PRODUTO\", \"PUSH_CARRINHO\", \"DECREMENTA_ESTOQUE\"]),\n        getURL(imageName){\n        //    return require(`@/api/produtos/${imageName}/${imageName}-foto.jpg`)\n        },\n        fetchProduto() {\n            api.get(`/produtos/${this.id}`)\n                .then(r => {\n                    this.UPDATE_PRODUTO(r.data);\n                })\n            /*this.produto = dados\n            console.log(this.produto, id)\n            axios.get(`@/api/produtos/${id}/dados.json`)\n                .then(r => {\n                    this.produto = r.data;\n                })*/\n        },\n        fecharModal({ target, currentTarget }) {\n            if (target === currentTarget) {\n                document.title = \"Techno\"\n                this.UPDATE_PRODUTO(false)\n                this.$router.push({ name: \"Home\" });                \n            }\n        },\n        semProduto(){\n           document.title = \"Techno\"\n           this.UPDATE_PRODUTO(false)\n           this.$router.push({ name: \"Home\" });\n        },\n        adicionarItem(){\n            if (this.produto === false)\n                return\n            this.DECREMENTA_ESTOQUE();\n            const { id, nome, preco } = this.produto;\n            // console.log('produto: ', this.produto)\n            this.PUSH_CARRINHO({ id, nome, preco });\n            this.alerta(`${nome} adicionado ao carrinho.`);\n            window.localStorage.carrinho = JSON.stringify(this.carrinho); \n        },\n         alerta(mensagem) {\n            this.$store.state.mensagemAlerta = mensagem;\n            this.$store.state.alertaAtivo = true;\n            setTimeout(() => {\n                this.$store.state.alertaAtivo = false;\n            }, 1500);\n        },\n        checarLocalStorage() {\n            if (window.localStorage.carrinho){\n                this.$store.state.carrinho = JSON.parse(window.localStorage.carrinho);\n            }\n        },\n        compararEstoque() {\n            const items = this.carrinho.filter(({ id }) => id === this.produto.id);\n            this.$store.state.produto.estoque -= items.length;\n        },\n        \n    },\n    watch: {\n        produto() {\n            document.title = this.produto.nome || \"Techno\";\n            const hash = this.produto.id || \"\";\n            history.pushState(null, null, `${hash}`);\n            if (this.produto) {\n                this.compararEstoque();\n            }\n        },\n        carrinho() {\n            window.localStorage.carrinho = JSON.stringify(this.carrinho); \n        },\n    },\n    created() {\n        this.fetchProduto();\n  }\n}\n</script>\n\n<style scoped>\n    /* MODAL */\n.modal::before{\n    content: \"\";\n    position: fixed;\n    top: 0px;\n    left: 0px;\n    width: 100%;\n    height: 100vh;\n    background: rgba(0, 0, 0, .5);\n}\n\n.modal{\n    display: flex;\n    flex-direction: column;\n    position: absolute;\n    align-items: center;\n    top: 0px;\n    left: 0px;\n    width: 100%;\n    padding: 80px;\n}\n\n.modal_container{\n    position: relative;\n    background: linear-gradient(to right, transparent 250px, white 250px);\n    z-index: 1;\n    display: grid;\n    align-items: end;\n    grid-gap: 50px;\n    padding: 50px 50px 50px 0;\n    animation: fadeIn .3s forwards;\n}\n\n@keyframes fadeIn {\n    from {\n        opacity: 0;\n        transform: translate3d(50px, 0, 0);\n    }\n    to {\n        opacity: 1;\n        transform: translate3d(0px, 0, 0);\n    }\n}\n\n.modal_fechar {\n    border-radius: 50%;\n    border: 2px solid #000;\n    width: 40px;\n    height: 40px;\n    position: absolute;\n    top: 10px;\n    right: -10px;\n    font-size: 1rem;\n    box-shadow: 0px 3px 4px rgba(0, 0, 0, .1), 0px 4px 10px rgba(0, 0, 0, .2);\n    cursor: pointer;\n}\n\n.modal_img {\n    grid-column: 1;\n    margin-top: 50px;\n    box-shadow: 0px 3px 4px rgba(0, 0, 0, .1), 0px 4px 10px rgba(0, 0, 0, .2);\n}\n\n.modal_img img {\n    max-width: 300px;\n    display: block;\n}\n\n.modal_dados {\n    grid-column: 2;\n    max-width: 600px;\n}\n\n.modal_titulo {\n    font-size: 3rem;\n}\n\n.modal_btn {\n    margin-top: 80px;\n    background: #000;\n    cursor: pointer;\n    color: #ffffff;\n    border: none;\n    font-size: 1rem;\n    padding: 10px 25px;\n    font-family: \"Noto Serif\";\n}\n\n.modal_btn.esgotado {\n    background: #808080;\n}\n\n.modal_btn:active {\n    background: #808080;\n}\n\n/* AVALIACOES */\n.avaliacoes {\n    grid-column: 2;\n}\n\n.avaliacao {\n    border-bottom: 1px solid rgba(0, 0, 0, .1);\n    padding-bottom: 20px;\n}\n\n.avaliacoes_subtitulo {\n    font-size: 1.75rem;\n}\n\n.avaliacao_descricao {\n    color: rgba(0, 0, 0, .7);\n    margin: 10px 0 5px 0;\n}\n\n.avaliacao_usuario {\n    font-weight: bold;\n}\n\n/* RESPONSIVO */\n\n@media screen and (max-width: 900px) {\n    .modal {\n        padding: 10px;\n    }\n    .modal_container {\n        grid-gap: 20px;\n        background: #ffffff ;\n        padding: 10px 0;\n    }\n    .modal_img {\n        grid-row: 2;\n    }\n    .modal_img img {\n        width: 100%;\n        max-width: initial;\n    }\n    .modal_dados {\n        grid-column: 1;\n        padding: 10px;\n    }\n    .modal_btn {\n        margin-top: 20px;\n    }\n    .avaliacoes {\n        grid-column: 1;\n        padding: 10px;\n    }\n}\n</style>"],"sourceRoot":"src/views"}]}